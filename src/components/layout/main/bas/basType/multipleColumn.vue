<!-- 分省指标图 -->
<style lang="stylus" scoped>
.multipleColumn
  height 1000px
  background url('../../../../../assets/bg.jpg') no-repeat
  background-size 100% 100%
  .main
    width 100%
    height calc(100% - 100px)
    margin-top -15px
</style>


<template>
<div class="multipleColumn">
  <v-header :name="name" :legendArr="legendArr" :myChart="myChart"></v-header>
  <!-- <v-filter :myChart="myChart" v-if="myChart._dom"></v-filter> -->
  <div class="main"></div>
</div>

</template>

<script>
import echarts from 'echarts'
import header from './header.vue'
import filter from './filter.vue'

export default {
  data() {
    return {
      legendArr: [],
      color: this.$store.state.color,
      styleArr: [],
      myChart: {},
      name: '分省指标图',
      xAxisData:[],
      dataTime: this.dataFormatter({
					1: [251.93, 307.28, 315.76, 287.55, 359.88, 286.7, 268.83, 82,
						195.69, 110.27, 323.85, 300.65, 260.18, 276.82, 261.85,
						269.03, 263.26, 269.56, 290.28, 272.87, 252.66, 278.37,
						260.68, 270.84, 293.12, 260.83, 312.3, 220.37, 270.44,
						210.21, 310.05
					],
					2: [113.58, 224.46, 294.26, 200.86, 172, 187.27, 867.58, 368.6,
						165.98, 425.48, 222.31, 239.33, 137.12, 451.26, 169.92,
						230.36, 157.61, 137.96, 460.06, 969.85, 264.5, 725.58,
						185.48, 402.16, 224.18, 507.46, 123.48, 120.75, 350.43,
						189.65, 437.47
					],
					3: [153.03, 721.85, 235.48, 358.31, 740.25, 212.49, 278.75, 587,
						146.45, 357.3, 290.35, 162.82, 236.53, 755.18, 336.65,
						180.46, 161.1, 159.69, 382.56, 759.16, 154.21, 630.01,
						111.28, 312.68, 669.75, 441.36, 869.8, 387.56, 181.27,
						153.31, 277.05
					],
					4: [115, 619.01, 111.97, 315.4, 496.2, 138.58, 426.1, 314.37,
						169.87, 381.98, 262.69, 851.66, 823.01, 971.05, 333.28,
						118.53, 118.92, 155, 376.71, 721, 303.06, 573.66, 161.23,
						351.56, 592.12, 394.85, 714.58, 366.82, 118.62, 203.92,
						483.21
					],
					5: [346.81, 252.76, 607.32, 624.45, 423.18, 164.3, 284.69, 104,
						194.01, 218.48, 153.73, 760.92, 248.53, 500.25, 276.91,
						112.46, 333.4, 439.6, 377.01, 523.41, 154.17, 476.13,
						162.39, 284.11, 472.52, 341.43, 577.29, 203.98, 797.35,
						919.11, 523.16
					],
					6: [317.78, 462.74, 467.6, 478.61, 944.25, 204.52, 275.12, 211.8,
						572.24, 242.05, 718.47, 112.5, 583.85, 420.53, 200.19,
						262.79, 517.47, 788.67, 287.76, 476.16, 165.67, 307.23,
						880.24, 338.98, 388.14, 290.76, 443.61, 277.35, 648.5,
						725.9, 345.26
					],
					7: [369.52, 305.64, 112.11, 430.53, 305.03, 847.26, 620.27,
						513.7, 247.66, 198.69, 417.68, 350.17, 554.69, 406.76,
						366.87, 187.42, 690.19, 596.1, 257.37, 394.1, 918.75,
						347.72, 385.1, 205.42, 342.73, 248.8, 333.72, 193.98,
						543.32, 612.61, 204.19
					],
					8: [633.21, 310.97, 877.63, 371.37, 341.07, 672, 322.01, 450.6,
						872.83, 503.6, 148.7, 459.3, 763.35, 456.7, 121.84, 853.79,
						533.24, 541.94, 864.62, 343.5, 819.66, 334.58, 379.63,
						177.8, 381.91, 220.34, 175.58, 168.49, 466.1, 537.11,
						209.09
					],
					9: [307.21, 278.03, 621.29, 255.23, 288.38, 602.54, 262.08,
						457.4, 694.23, 242.87, 905.02, 323.11, 483.67, 287.41,
						178.15, 667.7, 757.45, 459.99, 144.64, 221.11, 713.96,
						255.72, 533.09, 426.34, 256.02, 185.09, 257.72, 139.83,
						390.2, 445.36, 186.35
					],
					10: [235, 150.76, 618.28, 224.8, 940.94, 558.22, 248.54, 337.2,
						741.03, 106.85, 803.67, 319.72, 447.55, 250.48, 175.5,
						335.48, 412.82, 451.54, 502.42, 223.73, 642.73, 232.86,
						425.01, 1243.43, 212.82, 162.04, 223.39, 122.03, 340.65,
						377.16, 112.6
					],
					11: [251.93, 307.28, 515.76, 237.55, 359.88, 226.7, 568.83, 582,
						195.69, 110.27, 323.85, 300.65, 260.18, 276.82, 261.85,
						269.03, 263.26, 269.56, 290.28, 272.87, 252.66, 278.37,
						260.68, 270.84, 293.12, 260.83, 312.3, 220.37, 270.44,
						210.21, 310.05
					],
					12: [113.58, 224.46, 394.26, 200.86, 672, 457.27, 667.58, 368.6,
						165.98, 425.48, 222.31, 359.33, 737.12, 951.26, 369.92,
						232.36, 967.61, 437.96, 463.06, 959.85, 264.5, 795.58,
						185.48, 462.16, 224.18, 507.46, 123.48, 420.75, 130.43,
						689.65, 547.47
					],
					13: [153.03, 521.85, 235.48, 358.31, 940.25, 212.49, 778.75, 587,
						146.45, 357.3, 290.35, 162.82, 236.53, 755.18, 396.65,
						190.46, 161.1, 309.69, 382.56, 759.16, 154.21, 650.01,
						151.28, 312.68, 169.75, 441.36, 819.8, 387.56, 181.27,
						353.31, 477.05
					],
					14: [115, 719.01, 101.97, 715.4, 96.2, 668.58, 626.1, 814.37,
						169.87, 381.98, 262.69, 851.66, 123.01, 671.05, 303.28,
						118.53, 118.92, 555, 796.71, 701, 153.06, 593.66, 601.23,
						351.56, 592.12, 394.85, 314.58, 366.82, 118.62, 203.92,
						183.21
					],
					15: [946.81, 252.76, 137.32, 624.45, 423.18, 164.3, 584.69, 104,
						294.01, 260.48, 153.73, 360.92, 948.53, 580.25, 276.91,
						112.46, 333.4, 439.6, 377.01, 583.41, 124.17, 466.13,
						162.39, 284.11, 472.52, 341.43, 557.29, 203.98, 797.35,
						919.11, 523.16
					],
					16: [817.78, 462.74, 167.6, 478.61, 444.25, 304.52, 475.12,
						211.8, 572.24, 242.05, 118.47, 112.5, 783.85, 420.53,
						219.19, 362.79, 767.47, 788.67, 287.76, 476.16, 165.67,
						307.23, 890.24, 238.98, 398.14, 290.76, 743.61, 277.35,
						648.5, 725.9, 345.26
					],
					17: [699.52, 395.64, 102.11, 430.53, 305.03, 847.26, 320.27,
						513.7, 247.66, 158.69, 317.68, 350.17, 654.69, 406.76,
						166.87, 587.42, 690.19, 696.1, 227.37, 394.1, 918.75,
						367.72, 385.1, 205.42, 362.73, 248.8, 333.72, 233.98,
						543.32, 612.61, 264.19
					],
					18: [603.21, 310.97, 847.63, 371.37, 341.07, 672, 122.01, 450.6,
						872.83, 153.6, 148.7, 359.3, 563.35, 356.7, 121.84, 853.79,
						233.24, 541.94, 164.62, 333.5, 819.66, 334.58, 679.6,
						167.8, 381.91, 220.34, 375.58, 188.49, 466.1, 537.11,
						209.09
					],
					19: [207.21, 278.03, 621.29, 255.23, 288.38, 602.54, 262.08,
						457.4, 694.23, 442.87, 305.02, 323.11, 483.67, 207.41,
						178.15, 367.7, 457.45, 459.99, 144.64, 281.11, 713.96,
						255.72, 333.09, 426.34, 256.02, 185.09, 287.72, 399.83,
						390.2, 445.36, 186.35
					],
					20: [315, 250.76, 608.28, 224.8, 140.94, 458.22, 248.54, 337.2,
						541.03, 106.85, 803.67, 319.72, 467.55, 250.48, 105.5,
						335.48, 412.82, 151.54, 102.42, 223.73, 642.73, 232.86,
						425.01, 143.43, 312.82, 162.04, 253.39, 232.03, 340.65,
						377.16, 112.6
					],
					21: [251.93, 307.28, 515.76, 237.55, 359.88, 226.7, 568.83, 582,
						195.69, 110.27, 323.85, 300.65, 260.18, 276.82, 261.85,
						269.03, 263.26, 269.56, 290.28, 272.87, 252.66, 278.37,
						260.68, 270.84, 293.12, 260.83, 312.3, 220.37, 270.44,
						210.21, 310.05
					],
					22: [113.58, 224.46, 394.26, 200.86, 172, 147.27, 867.58, 368.6,
						165.98, 425.48, 722.31, 159.33, 737.12, 951.26, 399.92,
						292.36, 157.61, 137.96, 113.06, 569.85, 264.5, 725.58,
						185.48, 402.16, 724.18, 507.46, 123.48, 410.75, 130.43,
						189.65, 537.47
					],
					23: [153.03, 721.85, 235.48, 758.31, 940.25, 212.49, 278.75, 587,
						146.45, 357.3, 290.35, 162.82, 236.53, 655.18, 396.65,
						480.46, 161.1, 159.69, 382.56, 779.16, 154.21, 530.01,
						151.28, 312.68, 669.75, 441.36, 169.8, 387.56, 101.27,
						153.31, 277.05
					],

				}, false),
      dataCdrCount: this.dataFormatter({
					1: [1510000093, 1070000028, 1150000076, 1370000055, 1590000088, 126000007, 1680000083, 182,
						1950000069, 1100000027, 1230000085, 1100000065, 1600000018, 1760000082, 1610000085,
						1690000003, 1630000026, 1690000056, 1200000028, 1720000087, 1520000066, 1780000037,
						1600000068, 1700000084, 1930000012, 1600000083, 112000003, 1210000037, 1710000044,
						1100000021, 1100000005
					],
					2: [1130000058, 1240000046, 1940000026, 1010000086, 172, 1570000027, 1670000058, 168000006,
						1650000098, 1250000048, 1220000031, 1590000033, 1370000012, 1510000026, 1690000092,
						1320000036, 1670000061, 1370000096, 1630000006, 1590000085, 164000005, 1950000058,
						1850000048, 1620000016, 1240000018, 1070000046, 1230000048, 1210000075, 1300000043,
						1890000065, 1470000047
					],
					3: [1530000003, 1210000085, 1350000048, 1580000031, 1400000025, 1120000049, 1780000075, 187,
						1460000045, 157000003, 1900000035, 1620000082, 1360000053, 1550000018, 1960000065,
						1900000046, 161000001, 1090000069, 1820000056, 1590000016, 1540000021, 1510000001,
						1510000028, 1120000068, 1690000075, 1410000036, 119000008, 1870000056, 1810000027,
						1530000031, 1770000005
					],
					4: [115, 1190000001, 1010000097, 115000004, 16000002, 1680000058, 126000001, 1140000037,
						1690000087, 1810000098, 1620000069, 1510000066, 1230000001, 1710000005, 1030000028,
						1180000053, 1180000092, 155, 1960000071, 101, 1530000006, 1930000066, 1010000023,
						1510000056, 1920000012, 1940000085, 1140000058, 1660000082, 1180000062, 1030000092,
						1830000021
					],
					5: [1460000081, 1520000076, 1370000032, 1240000045, 1230000018, 164000003, 1840000069, 104,
						1940000001, 1600000048, 1530000073, 1600000092, 1480000053, 1800000025, 1760000091,
						1120000046, 133000004, 139000006, 1770000001, 1830000041, 1240000017, 1660000013,
						1620000039, 1840000011, 1720000052, 1410000043, 1570000029, 1030000098, 1970000035,
						1190000011, 1230000016
					],
					6: [1170000078, 1620000074, 167000006, 1780000061, 1440000025, 1040000052, 1750000012, 111000008,
						1720000024, 1420000005, 1180000047, 112000005, 1830000085, 1200000053, 1190000019,
						1620000079, 1670000047, 1880000067, 1870000076, 1760000016, 1650000067, 1070000023,
						1900000024, 1380000098, 1980000014, 1900000076, 1430000061, 1770000035, 148000005,
						125000009, 1450000026
					],
					7: [1990000052, 1950000064, 1020000011, 1300000053, 1050000003, 1470000026, 1200000027,
						113000007, 1470000066, 1580000069, 1170000068, 1500000017, 1540000069, 1060000076,
						1660000087, 1870000042, 1900000019, 196000001, 1270000037, 194000001, 1180000075,
						1670000072, 185000001, 1050000042, 1620000073, 148000008, 1330000072, 1330000098,
						1430000032, 1120000061, 1640000019
					],
					8: [1030000021, 1100000097, 1470000063, 1710000037, 1410000007, 172, 1220000001, 150000006,
						1720000083, 153000006, 148000007, 159000003, 1630000035, 156000007, 1210000084, 1530000079,
						1330000024, 1410000094, 1640000062, 133000005, 1190000066, 1340000058, 179000006,
						167000008, 1810000091, 1200000034, 1750000058, 1880000049, 166000001, 1370000011,
						1090000009
					],
					9: [1070000021, 1780000003, 1210000029, 1550000023, 1880000038, 1020000054, 1620000008,
						157000004, 1940000023, 1420000087, 1050000002, 1230000011, 1830000067, 1070000041,
						1780000015, 167000007, 1770000045, 1590000099, 1440000064, 1810000011, 1130000096,
						1550000072, 1330000009, 1260000034, 1560000002, 1850000009, 1870000072, 1990000083,
						190000002, 1450000036, 1860000035
					],
					10: [115, 1500000076, 1080000028, 124000008, 1400000094, 1480000022, 1480000054, 137000002,
						1410000003, 1060000085, 1030000067, 1190000072, 1670000055, 1500000048, 105000005,
						1350000048, 1120000082, 1510000054, 1020000042, 1230000073, 1420000073, 1320000086,
						1250000001, 1430000043, 1120000082, 1620000004, 1530000039, 1320000003, 1400000065,
						1770000016, 112000006
					],
					11: [1510000093, 1070000028, 1150000076, 1370000055, 1590000088, 126000007, 1680000083, 182,
						1950000069, 1100000027, 1230000085, 1100000065, 1600000018, 1760000082, 1610000085,
						1690000003, 1630000026, 1690000056, 1900000028, 1720000087, 1520000066, 1780000037,
						1600000068, 1700000084, 1930000012, 1600000083, 112000003, 1210000037, 1710000044,
						1100000021, 1100000005
					],
					12: [1130000058, 1240000046, 1940000026, 1010000086, 172, 1870000027, 1670000058, 168000006,
						1650000098, 1250000048, 1220000031, 1390000033, 1370000012, 1510000026, 1690000092,
						1300000036, 1570000061, 1370000096, 1610000006, 1690000085, 164000005, 1250000058,
						1850000048, 1020000016, 1240000018, 1070000046, 1230000048, 1210000075, 1500000043,
						1890000065, 1370000047
					],
					13: [1530000003, 1210000085, 1350000048, 1580000031, 1400000025, 1120000049, 1780000075, 187,
						1460000045, 157000003, 1900000035, 1620000082, 1360000053, 1550000018, 1360000065,
						1800000046, 161000001, 1590000069, 1820000056, 1590000016, 1640000021, 1310000001,
						1110000028, 1120000068, 1690000075, 1410000036, 169000008, 1870000056, 1810000027,
						1530000031, 1770000005
					],
					14: [115, 1190000001, 1110000097, 115000004, 196000002, 1380000058, 126000001, 1140000037,
						1690000087, 1810000098, 1620000069, 1510000066, 1230000001, 1710000005, 1330000028,
						1180000053, 1180000092, 155, 1760000071, 121, 1530000006, 1730000066, 1610000023,
						1510000056, 1920000012, 1940000085, 1140000058, 1660000082, 1180000062, 1030000092,
						1830000021
					],
					15: [1460000081, 1520000076, 1070000032, 1240000045, 1230000018, 164000003, 1840000069, 104,
						1940000001, 1180000048, 1530000073, 1600000092, 1480000053, 1000000025, 1760000091,
						1120000046, 133000004, 139000006, 1770000001, 1230000041, 1540000017, 1760000013,
						1620000039, 1840000011, 1720000052, 1410000043, 1770000029, 1030000098, 1970000035,
						1190000011, 1230000016
					],
					16: [1170000078, 1620000074, 167000006, 1780000061, 1440000025, 1040000052, 1750000012,
						111000008, 1720000024, 1420000005, 1180000047, 112000005, 1830000085, 1200000053,
						1100000019, 1620000079, 1170000047, 1880000067, 1870000076, 1760000016, 1650000067,
						1070000023, 1800000024, 1380000098, 1880000014, 1900000076, 1430000061, 1770000035,
						148000005, 125000009, 1450000026
					],
					17: [1690000052, 1050000064, 1120000011, 1300000053, 1050000003, 1470000026, 1200000027,
						113000007, 1470000066, 1980000069, 1170000068, 1500000017, 1540000069, 1060000076,
						1660000087, 1870000042, 1900000019, 196000001, 1570000037, 194000001, 1180000075,
						1470000072, 185000001, 1050000042, 1420000073, 148000008, 1330000072, 1930000098,
						1430000032, 1120000061, 1040000019
					],
					18: [1330000021, 1100000097, 1770000063, 1710000037, 1410000007, 172, 1220000001, 150000006,
						1720000083, 103000006, 148000007, 159000003, 1630000035, 156000007, 1210000084, 1530000079,
						1330000024, 1410000094, 1640000062, 143000005, 1190000066, 1340000058, 1790000063,
						177000008, 1810000091, 1200000034, 1750000058, 1680000049, 166000001, 1370000011,
						1090000009
					],
					19: [1070000021, 1780000003, 1210000029, 1550000023, 1880000038, 1020000054, 1620000008,
						157000004, 1940000023, 1420000087, 1050000002, 1230000011, 1830000067, 1870000041,
						1780000015, 167000007, 1570000045, 1590000099, 1440000064, 1210000011, 1130000096,
						1550000072, 1330000009, 1260000034, 1560000002, 1850000009, 1570000072, 1390000083,
						190000002, 1450000036, 1860000035
					],
					20: [135, 1500000076, 1180000028, 124000008, 1400000094, 1580000022, 1480000054, 137000002,
						1410000003, 1060000085, 1030000067, 1190000072, 1470000055, 1500000048, 175000005,
						1350000048, 1120000082, 1510000054, 1020000042, 1230000073, 1420000073, 1320000086,
						1250000001, 1230000043, 1120000082, 1620000004, 1230000039, 1220000003, 1400000065,
						1770000016, 112000006
					],
					21: [1510000093, 1070000028, 1150000076, 1370000055, 1590000088, 126000007, 1680000083, 182,
						1950000069, 1100000027, 1230000085, 1100000065, 1600000018, 1760000082, 1610000085,
						1690000003, 1630000026, 1690000056, 1900000028, 1720000087, 1520000066, 1780000037,
						1600000068, 1700000084, 1930000012, 1600000083, 112000003, 1210000037, 1710000044,
						1100000021, 1100000005
					],
					22: [1130000058, 1240000046, 1940000026, 1010000086, 172, 1470000027, 1670000058, 168000006,
						1650000098, 1250000048, 1220000031, 1590000033, 1370000012, 1510000026, 1990000092,
						1920000036, 1570000061, 1370000096, 1130000006, 1690000085, 164000005, 1250000058,
						1850000048, 1020000016, 1240000018, 1070000046, 1230000048, 1110000075, 1300000043,
						1890000065, 1370000047
					],
					23: [1530000003, 1210000085, 1350000048, 1580000031, 1400000025, 1120000049, 1280000075, 187,
						1460000045, 157000003, 1900000035, 1620000082, 1360000053, 1550000018, 1960000065,
						1800000046, 161000001, 1590000069, 1820000056, 1790000016, 1540000021, 1310000001,
						1510000028, 1120000068, 1690000075, 1410000036, 169000008, 1870000056, 1010000027,
						1530000031, 1770000005
					]
				}, true),
				dataWCdrCount: this.dataFormatter({
					1: [10000093, 70000028, 150000076, 170000055, 150000088,
						12000007, 80000083, 2, 950000069, 100000027, 120000085,
						100000065, 160000018, 60000082, 10000085, 690000003,
						630000026, 160000056, 190000028, 170000087, 20000066,
						80000037, 600000068, 700000084, 190000012, 160000083,
						11000003, 10000037, 10000044, 100000021, 100000005
					],
					2: [30000058, 40000046, 10000026, 10000086, 2, 10000027,
						70000058, 1000006, 50000098, 50000048, 20000031, 10000033,
						70000012, 10000026, 10000092, 10000036, 70000061, 70000096,
						10000006, 90000085, 4000005, 10000058, 10000048, 20000016,
						40000018, 70000046, 30000048, 10000075, 10000043, 10000065,
						170000047
					],
					3: [30000003, 10000085, 10000048, 10000031, 10000025, 1120000049,
						10000075, 7, 10000045, 7000003, 10000035, 10000082,
						60000053, 1550000018, 60000065, 10000046, 1000001,
						10000069, 10000056, 10000016, 10000021, 10000001, 10000028,
						20000068, 10000075, 10000036, 1000008, 70000056, 10000027,
						10000031, 70000005
					],
					4: [30000003, 10000085, 10000048, 10000031, 10000025, 11200049,
						10000075, 7, 10000045, 7000003, 10000035, 10000082,
						60000053, 1550000018, 60000065, 10000046, 1000001,
						10000069, 10000056, 10000016, 10000021, 10000001, 10000028,
						20000068, 10000075, 10000036, 1000008, 70000056, 10000027,
						10000031, 70000005
					],
					5: [30000058, 40000046, 10000026, 10000086, 2, 10000027,
						70000058, 1000006, 50000098, 50000048, 20000031, 10000033,
						70000012, 10000026, 10000092, 10000036, 70000061, 70000096,
						110000006, 90000085, 4000005, 10000058, 10000048, 20000016,
						40000018, 70000046, 30000048, 10000075, 10000043, 10000065,
						170000047
					],
					6: [10000093, 70000028, 150000076, 170000055, 150000088,
						12000007, 80000083, 2, 950000069, 100000027, 120000085,
						100000065, 160000018, 60000082, 10000085, 690000003,
						630000026, 160000056, 190000028, 170000087, 20000066,
						80000037, 600000068, 700000084, 190000012, 160000083,
						11000003, 10000037, 10000044, 100000021, 100000005
					],
					7: [30000003, 10000085, 10000048, 10000031, 10000025, 1120000049,
						10000075, 7, 10000045, 7000003, 10000035, 10000082,
						60000053, 1550000018, 60000065, 10000046, 1000001,
						10000069, 10000056, 10000016, 10000021, 10000001, 10000028,
						20000068, 10000075, 10000036, 1000008, 70000056, 10000027,
						10000031, 70000005
					],
					8: [30000058, 40000046, 10000026, 10000086, 2, 10000027,
						70000058, 1000006, 50000098, 50000048, 20000031, 10000033,
						70000012, 10000026, 10000092, 10000036, 70000061, 70000096,
						10000006, 90000085, 4000005, 10000058, 10000048, 20000016,
						40000018, 70000046, 30000048, 10000075, 10000043, 10000065,
						170000047
					],
					9: [10000093, 70000028, 150000076, 170000055, 150000088,
						12000007, 80000083, 2, 950000069, 100000027, 120000085,
						100000065, 160000018, 60000082, 10000085, 690000003,
						630000026, 160000056, 190000028, 170000087, 20000066,
						80000037, 600000068, 700000084, 190000012, 160000083,
						11000003, 10000037, 10000044, 100000021, 100000005
					],
					10: [30000003, 10000085, 10000048, 10000031, 10000025,
						1120000049, 10000075, 7, 10000045, 7000003, 10000035,
						10000082, 60000053, 1550000018, 60000065, 10000046,
						1000001, 10000069, 10000056, 10000016, 10000021, 10000001,
						10000028, 20000068, 10000075, 10000036, 1000008, 70000056,
						10000027, 10000031, 70000005
					],
					11: [30000058, 40000046, 10000026, 10000086, 2, 10000027,
						70000058, 1000006, 50000098, 50000048, 20000031, 10000033,
						70000012, 10000026, 10000092, 10000036, 70000061, 70000096,
						10000006, 90000085, 4000005, 10000058, 10000048, 20000016,
						40000018, 70000046, 30000048, 10000075, 10000043, 10000065,
						170000047
					],
					12: [10000093, 70000028, 150000076, 170000055, 150000088,
						12000007, 80000083, 2, 950000069, 100000027, 120000085,
						100000065, 160000018, 60000082, 10000085, 690000003,
						630000026, 160000056, 190000028, 170000087, 20000066,
						80000037, 600000068, 700000084, 190000012, 160000083,
						11000003, 10000037, 10000044, 100000021, 100000005
					],
					13: [30000003, 10000085, 10000048, 10000031, 10000025,
						1120000049, 10000075, 7, 10000045, 7000003, 10000035,
						10000082, 60000053, 1550000018, 60000065, 10000046,
						1000001, 10000069, 10000056, 10000016, 10000021, 10000001,
						10000028, 20000068, 10000075, 10000036, 1000008, 70000056,
						10000027, 10000031, 70000005
					],
					14: [10000093, 70000028, 150000076, 170000055, 150000088,
						12000007, 80000083, 2, 950000069, 100000027, 120000085,
						100000065, 160000018, 60000082, 10000085, 690000003,
						630000026, 160000056, 190000028, 170000087, 20000066,
						80000037, 600000068, 700000084, 190000012, 160000083,
						11000003, 10000037, 10000044, 100000021, 100000005
					],
					15: [30000003, 10000085, 10000048, 10000031, 10000025,
						1120000049, 10000075, 7, 10000045, 7000003, 10000035,
						10000082, 60000053, 1550000018, 60000065, 10000046,
						1000001, 10000069, 10000056, 10000016, 10000021, 10000001,
						10000028, 20000068, 10000075, 10000036, 1000008, 70000056,
						10000027, 10000031, 70000005
					],
					16: [30000058, 40000046, 10000026, 10000086, 2, 10000027,
						70000058, 1000006, 50000098, 50000048, 20000031, 10000033,
						70000012, 10000026, 10000092, 10000036, 70000061, 70000096,
						10000006, 90000085, 4000005, 10000058, 10000048, 20000016,
						40000018, 70000046, 30000048, 10000075, 10000043, 10000065,
						170000047
					],
					17: [10000093, 70000028, 150000076, 170000055, 150000088,
						12000007, 80000083, 2, 950000069, 100000027, 120000085,
						100000065, 160000018, 60000082, 10000085, 690000003,
						630000026, 160000056, 190000028, 170000087, 20000066,
						80000037, 600000068, 700000084, 190000012, 160000083,
						11000003, 10000037, 10000044, 100000021, 100000005
					],
					18: [30000003, 10000085, 10000048, 10000031, 10000025,
						1120000049, 10000075, 7, 10000045, 7000003, 10000035,
						10000082, 60000053, 1550000018, 60000065, 10000046,
						1000001, 10000069, 10000056, 10000016, 10000021, 10000001,
						10000028, 20000068, 10000075, 10000036, 1000008, 70000056,
						10000027, 10000031, 70000005
					],
					19: [30000058, 40000046, 10000026, 10000086, 2, 10000027,
						70000058, 1000006, 50000098, 50000048, 20000031, 10000033,
						70000012, 10000026, 10000092, 10000036, 70000061, 70000096,
						10000006, 90000085, 4000005, 10000058, 10000048, 20000016,
						40000018, 70000046, 30000048, 10000075, 10000043, 10000065,
						170000047
					],
					20: [10000093, 70000028, 150000076, 170000055, 150000088,
						12000007, 80000083, 2, 950000069, 100000027, 120000085,
						100000065, 160000018, 60000082, 10000085, 690000003,
						630000026, 160000056, 190000028, 170000087, 20000066,
						80000037, 600000068, 700000084, 190000012, 160000083,
						11000003, 10000037, 10000044, 100000021, 100000005
					],
					21: [30000003, 10000085, 10000048, 10000031, 10000025,
						1120000049, 10000075, 7, 10000045, 7000003, 10000035,
						10000082, 60000053, 1550000018, 60000065, 10000046,
						1000001, 10000069, 10000056, 10000016, 10000021, 10000001,
						10000028, 20000068, 10000075, 10000036, 1000008, 70000056,
						10000027, 10000031, 70000005
					],
					22: [30000058, 40000046, 10000026, 10000086, 2, 10000027,
						70000058, 1000006, 50000098, 50000048, 20000031, 10000033,
						70000012, 10000026, 10000092, 10000036, 70000061, 70000096,
						10000006, 90000085, 4000005, 10000058, 10000048, 20000016,
						40000018, 70000046, 30000048, 10000075, 10000043, 10000065,
						170000047
					],
					23: [10000093, 70000028, 150000076, 170000055, 150000088,
						12000007, 80000083, 2, 950000069, 100000027, 120000085,
						100000065, 160000018, 60000082, 10000085, 690000003,
						630000026, 160000056, 190000028, 170000087, 20000066,
						80000037, 600000068, 700000084, 190000012, 160000083,
						11000003, 10000037, 10000044, 100000021, 100000005
					]
				}, true)
    }
  },
  methods: {
    init() {
      this.legendArr = this.myChart.getOption().series
      this.legendArr.forEach((data) => {
        data.selected = true;
      })
      this.$root.charts.push(this.myChart)
      window.addEventListener('resize', function() {
        this.myChart.resize()
      }.bind(this))
		},
		//为时间改变添加监听接口
    addListener(){
      var that = this;
      this.myChart.on('timelinechanged',(params)=>{     
        let curIndex = params.currentIndex; 
        let provList = [];
        that.dataTime[curIndex + 1 ].forEach(element => {
          provList.push(element.name)
        });
        that.xAxisData = provList;
        let option = this.generateData(that.dataTime,that.dataCdrCount,that.dataWCdrCount,that.xAxisData);
		    that.myChart.setOption(option);
        that.init();
      })
    },
    //初步处理数据,处理成echarts适用格式
    dataFormatter(obj, isUnitChg) {
				var initProvList = ['北京', '天津','辽宁', '河北', '山西', '河南', '吉林', '黑龙江','内蒙古', 
					'上海', '江苏', '山东','安徽',  '浙江', '广东','福建',  '湖南',
					 '广西','江西',  '重庆', '湖北', '四川','陕西','贵州', '云南', '西藏', '海南',  '甘肃','宁夏', 
					'青海', '新疆'];
				var temp;
				for (var hour = 1; hour <= 23; hour++) {
					temp = obj[hour];
					for (var i = 0, l = temp.length; i < l; i++) {
						if (isUnitChg) {
							temp[i] = temp[i] / 100000000;
							temp[i] = Math.round(temp[i] * 100) / 100;
						}
						obj[hour][i] = {
							name: initProvList[i],
							value: temp[i]
            }        
          }
          //对分省时延数据按照时延降序
          if(!isUnitChg){
              obj[hour] = obj[hour].sort(
                function(a, b)
                {
                    if(a.value < b.value) return 1;
                    if(a.value > b.value) return -1;
                    return 0;
                }
            );
          } 				
        }
				return obj;
			},
		//深度拷贝
    deepCopy(obj){
      let str, newobj;
      str = newobj = obj.constructor === Array ? [] : {};
      if (typeof obj !== 'object') {
        return
      } else if (window.JSON) {
        str = JSON.stringify(obj) // 系列化对象
        newobj = JSON.parse(str) // 还原
      } else {
        for (var i in obj) {
          newobj[i] = typeof obj[i] === 'object' ? cloneObj(obj[i]) : obj[i];
        }
      }
      return newobj;
    },
    //对话单量数据进行重新整理，横坐标按照时延降序的横坐标排列
    sortData(obj,dataTime){
      for (var hour = 1; hour <= 23; hour++) {
        //获取当前小时时延降序横坐标
        let provList = [];
        dataTime[hour].forEach(element => {
          provList.push(element.name)
        });
        var temp = this.deepCopy(obj[hour]);
        //根据横坐标重排obj数据
        for(var j = 0 , m = provList.length;j < m ; j++ ){
          for (var i = 0, l = temp.length; i < l; i++) {
            if (temp[i].name == provList[j]){
              obj[hour][j] = {
							    name: provList[j],
						      value: temp[i].value
              }
              break
            }
            
          }
        }				
      }
      return obj
    },
    generateData(dataTime,dataCdrCount,dataWCdrCount,xAxisData) {
				var option = {
					baseOption:{
						timeline: {
						axisType:'category',
						data: ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10',
							'11', '12', '13', '14', '15', '16', '17', '18',
							'19', '20', '21', '22', '23'
						],
						label: {
							formatter: function(s) {
								return s + ':00';
							},
							rotate: 10
						},
						autoPlay: true,
						playInterval: 3600*1000
					},
					title: {
							show:false
            },
            color:this.color,
						tooltip: {
							'trigger': 'axis'
						},
						legend: {
							show:false
						},
						toolbox: {
							'show': true,
							orient: 'vertical',
							x: 'right',
							y: 'center',
							'feature': {
								'mark': {
									'show': true
								},
								'dataView': {
									'show': true,
									'readOnly': false
								},
								'magicType': {
									'show': true,
									'type': ['line', 'bar']
								},
								'restore': {
									'show': true
								},
								'saveAsImage': {
									'show': true
								}
							}
						},
						calculable: true,
						grid: {
							'y': 70,
							'y2': 50,
							containLabel: true
						},
						xAxis: {
              type: 'category',
						  axisTick: {
						    show: false
						  },
						  nameTextStyle: {
						    color: 'rgba(255, 255, 255, 0.69)'
						  },
							axisLabel: {
								show: true,
                interval: 0,
                textStyle: {
						      color: 'white'
                },
                rotate:90
							},
							axisLine: {
								lineStyle: {
									color: 'white'
								}
							},
							data: xAxisData
						},
						yAxis: [{
							min: 0,
							max: 800,
							interval: 200,
							name: "时延",
              axisLine: {
						    show: false
						  },
						  nameLocation: 'end',
						  nameGap: 20,
						  nameRotate: 0,
						  axisTick: {
						    show: false
						  },
						  splitLine: {
						    lineStyle: {
						      color: ['rgba(230, 230, 230, 0.2)']
						    }
						  },
					  	axisLabel: {
						    textStyle: {
						      color: 'white',
						      fontSize: 14
						    }
						  },
						}, {
							name: '话单量',
							min: 0,
							max: 20,
							 axisLine: {
						    show: false
						  },
						  nameLocation: 'end',
						  nameGap: 20,
						  nameRotate: 0,
						  axisTick: {
						    show: false
						  },
						  splitLine: {
						    lineStyle: {
						      color: ['rgba(230, 230, 230, 0.2)']
						    }
						  },
					  	axisLabel: {
						    textStyle: {
						      color: 'white',
						      fontSize: 14
						    }
						  }
						}]
					},
					options: [{
						series: [{
							'name': '时延(秒)',
							'type': 'line',
							'markLine': {
								symbol: ['arrow', 'none'],
								symbolSize: [4, 2],
								itemStyle: {
									normal: {
										lineStyle: {
											color: 'orange'
										},
										barBorderColor: 'orange',
										label: {
											position: 'left',
											formatter: function(
												params) {
												return Math
													.round(params.value);
											},
											textStyle: {
												color: 'orange'
											}
										}
									}
								},
								'data': [{
									'type': 'average',
									'name': '时延平均值'
								}]
							},
							itemStyle: {
								normal: {
									label: {
										show: true
									}
								}
							},
							'data': dataTime['1']
						}, {
							'name': '话单量(亿条)',
							'yAxisIndex': 1,
							'type': 'bar',
							itemStyle: {
								normal: {
									label: {
										show: false
									}
								}
							},
							'data': dataCdrCount['1']
						}, {
							'name': '错单量(亿条)',
							'yAxisIndex': 1,
							'type': 'bar',
							'barGap' : '-100%',
							'data': dataWCdrCount['1']
						}]
					}, {
						series: [{
							'data': dataTime['2']
						}, {
							'data': dataCdrCount['2']
						}, {
							'data': dataWCdrCount['2']
						}]
					}, {
						series: [{
								'data': dataTime['3']
							}, {
								'data': dataCdrCount['3']
							}, {
								'data': dataWCdrCount['3']
							}

						]
					}, {
						series: [{
							'data': dataTime['4']
						}, {
							'data': dataCdrCount['4']
						}, {
							'data': dataWCdrCount['4']
						}]
					}, {
						series: [{
							'data': dataTime['5']
						}, {
							'data': dataCdrCount['5']
						}, {
							'data': dataWCdrCount['5']
						}]
					}, {
						series: [{
							'data': dataTime['6']
						}, {
							'data': dataCdrCount['6']
						}, {
							'data': dataWCdrCount['6']
						}]
					}, {
						series: [{
							'data': dataTime['7']
						}, {
							'data': dataCdrCount['7']
						}, {
							'data': dataWCdrCount['7']
						}]
					}, {
						series: [{
							'data': dataTime['8']
						}, {
							'data': dataCdrCount['8']
						}, {
							'data': dataWCdrCount['8']
						}]
					}, {
						series: [{
							'data': dataTime['9']
						}, {
							'data': dataCdrCount['9']
						}, {
							'data': dataWCdrCount['9']
						}]
					}, {
						series: [{
							'data': dataTime['10']
						}, {
							'data': dataCdrCount['10']
						}, {
							'data': dataWCdrCount['10']
						}]
					}, {
						series: [{
							'data': dataTime['11']
						}, {
							'data': dataCdrCount['11']
						}, {
							'data': dataWCdrCount['11']
						}]
					}, {
						series: [{
							'data': dataTime['12']
						}, {
							'data': dataCdrCount['12']
						}, {
							'data': dataWCdrCount['12']
						}]
					}, {
						series: [{
							'data': dataTime['13']
						}, {
							'data': dataCdrCount['13']
						}, {
							'data': dataWCdrCount['13']
						}]
					}, {
						series: [{
							'data': dataTime['14']
						}, {
							'data': dataCdrCount['14']
						}, {
							'data': dataWCdrCount['14']
						}]
					}, {
						series: [{
							'data': dataTime['15']
						}, {
							'data': dataCdrCount['15']
						}, {
							'data': dataWCdrCount['15']
						}]
					}, {
						series: [{
							'data': dataTime['16']
						}, {
							'data': dataCdrCount['16']
						}, {
							'data': dataWCdrCount['16']
						}]
					}, {
						series: [{
							'data': dataTime['17']
						}, {
							'data': dataCdrCount['17']
						}, {
							'data': dataWCdrCount['17']
						}]
					}, {
						series: [{
							'data': dataTime['18']
						}, {
							'data': dataCdrCount['18']
						}, {
							'data': dataWCdrCount['18']
						}]
					}, {
						series: [{
							'data': dataTime['19']
						}, {
							'data': dataCdrCount['19']
						}, {
							'data': dataWCdrCount['19']
						}]
					}, {
						series: [{
							'data': dataTime['20']
						}, {
							'data': dataCdrCount['20']
						}, {
							'data': dataWCdrCount['20']
						}]
					}, {
						series: [{
							'data': dataTime['21']
						}, {
							'data': dataCdrCount['21']
						}, {
							'data': dataWCdrCount['21']
						}]
					}, {
						series: [{
							'data': dataTime['22']
						}, {
							'data': dataCdrCount['22']
						}, {
							'data': dataWCdrCount['22']
						}]
					}, {
						series: [{
							'data': dataTime['23']
						}, {
							'data': dataCdrCount['23']
						}, {
							'data': dataWCdrCount['23']
						}]
					}]

				};
				return option;
			},

  },
  components: {
    'v-header': header
  },
  mounted() {
    // 基于准备好的dom，初始化echarts实例
    this.myChart = echarts.init(document.querySelector('.multipleColumn .main'))
    this.dataCdrCount = this.sortData(this.dataCdrCount,this.dataTime)
		this.dataWCdrCount = this.sortData(this.dataWCdrCount,this.dataTime)
		let provList = [];
    this.dataTime[1].forEach(element => {
          provList.push(element.name)
		});
		this.xAxisData = provList;
    let option = this.generateData(this.dataTime,this.dataCdrCount,this.dataWCdrCount,this.xAxisData);
		this.myChart.setOption(option);
    this.init();
    this.addListener();
  }
}

</script>
